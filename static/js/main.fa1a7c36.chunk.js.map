{"version":3,"sources":["Header.js","assets/herald-logo.png","assets/herald-post-template.png","Canvas.js","ColorPicker.js","Config.js","Fabric-customize.js","App.js","reportWebVitals.js","index.js"],"names":["Header","className","id","Canvas","useState","setCanvas","useEffect","initCanvas","addImage","canvi","url","fabric","Image","fromURL","e","set","originY","originX","scaleX","scaleY","left","top","add","renderAll","clipBg","img","rect","Rect","width","height","absolutePositioned","fill","clipPath","addText","text","textbox","Textbox","fontSize","fontFamily","fontWeight","textAlign","cornerSize","transparentCorners","mainCanvas","backgroundColor","preserveObjectStacking","controlsAboveOverlay","logo","document","querySelector","onclick","imgData","toDataURL","format","quality","multipier","saveAs","downloadImage","onchange","file","target","files","reader","FileReader","onload","result","readAsDataURL","pickBg","colorPicker","colorInput","activeTextArr","val","onmousedown","getActiveObjects","filter","console","log","onmousemove","value","forEach","changeTextColor","src","fg","ColorPicker","props","color","setColor","onChange","getFileDialog","getElementById","click","Config","type","name","onClick","colorState","Object","prototype","controls","deleteControl","Control","x","y","offsetY","cursorStyle","mouseUpHandler","deleteObject","render","renderIcon","cornerColor","borderColor","cornerStyle","createElement","eventData","transform","canvas","remove","requestRenderAll","ctx","styleOverride","fabricObject","size","this","save","translate","rotate","util","degreesToRadians","angle","drawImage","restore","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.fa1a7c36.chunk.js","sourcesContent":["function Header() {\r\n    return (\r\n        <header className=\"App-header\">\r\n\r\n        <p id = \"Header-text\">\r\n            ðŸ¤– Post Generator\r\n        </p>\r\n    </header>\r\n    )\r\n}\r\n\r\nexport default Header","export default __webpack_public_path__ + \"static/media/herald-logo.8d473bf3.png\";","export default __webpack_public_path__ + \"static/media/herald-post-template.c6de8d3c.png\";","import { fabric } from \"fabric\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport logo from \"./assets/herald-logo.png\";\r\nimport fg from \"./assets/herald-post-template.png\";\r\nimport {saveAs} from 'file-saver';\r\n\r\nfunction Canvas() {\r\n  const base = <canvas id=\"mainCanvas\"></canvas>;\r\n  const baseimg = <img src=\"public/logo512.png\" id=\"my-image\"></img>;\r\n\r\n  const [canvas, setCanvas] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setCanvas(initCanvas());\r\n  }, []);\r\n\r\n  const addImage = (canvi, url) => {\r\n    fabric.Image.fromURL(url, (e) => {\r\n      e.set({\r\n        originY: \"center\",\r\n        originX: \"center\",\r\n        scaleX: 0.5,\r\n        scaleY: 0.5,\r\n        left: 400,\r\n        top: 350\r\n      });\r\n      canvi.add(e);\r\n      canvi.renderAll();\r\n      // canvi.moveTo(e, 0);\r\n    });\r\n  };\r\n\r\n  const addNewText = (canvi) => {\r\n    var addTextBtn = document.querySelector(\"#btn-addText\");\r\n    addTextBtn.onclick = () => {\r\n      addText(canvi, \"New Text\");\r\n    };\r\n  };\r\n\r\n  const downloadImage = (canvi) => {\r\n    var link = document.querySelector('#btn-save');   \r\n    link.onclick =  () => {\r\n      var imgData = canvi.toDataURL({ format:'png', \r\n        quality: 1,\r\n        multipier: 3,\r\n        width: 600,\r\n        height: 600,\r\n        left: 100,\r\n        top: 100,\r\n      });\r\n      saveAs(imgData, \"magic-image.png\");\r\n    };\r\n  }\r\n\r\n\r\n  const pickBg = (canvi) => {\r\n    var bgpicker = document.querySelector(\"#backgroundpick\");\r\n    bgpicker.onchange = (e) => {\r\n      var file = e.target.files[0];\r\n      var reader = new FileReader();\r\n      reader.onload = function (file) {\r\n        addImage(canvi, file.target.result);\r\n      };\r\n      clipBg(canvi);\r\n      return reader.readAsDataURL(file);\r\n    };\r\n  };\r\n\r\n  const clipBg = (img) => {\r\n    const rect = new fabric.Rect({\r\n      originX: \"center\",\r\n      originY: \"center\",\r\n      left: 400,\r\n      top: 400,\r\n      width: 529,\r\n      height: 529,\r\n      absolutePositioned: true,\r\n      fill: \"yellow\"\r\n    });\r\n    img.clipPath = rect;\r\n  };\r\n\r\n  const addText = (canvi, text) => {\r\n    var textbox = new fabric.Textbox(text, {\r\n      originY: \"center\",\r\n      originX: \"center\",\r\n      left: 400,\r\n      top: 530,\r\n      width: 320,\r\n      fontSize: 28,\r\n      fill: \"#fff\",\r\n      fontFamily: \"Open Sans\",\r\n      fontWeight: 800,\r\n      textAlign: \"center\",\r\n      cornerSize: 12,\r\n      transparentCorners: false\r\n    });\r\n    canvi.add(textbox);\r\n    return textbox;\r\n  };\r\n\r\n  const changeTextColor = (canvi) => {\r\n    let colorPicker = document.querySelector(\"#colorPicker\");\r\n    let colorInput = document.querySelector(\"#colorPickerInput\");\r\n    let activeTextArr = [];\r\n    let val = \"#ffffff\";\r\n    colorPicker.onmousedown = () => {\r\n      activeTextArr = canvi.getActiveObjects().filter(e => e instanceof fabric.Textbox);\r\n      console.log(activeTextArr);\r\n    };\r\n    colorPicker.onmousemove = () => {\r\n      val = colorInput.value;\r\n      activeTextArr.forEach((e) => e.set(\"fill\", `#${val}`));\r\n      canvi.renderAll()\r\n    };\r\n    colorInput.onmousedown = () => {\r\n      activeTextArr = canvi.getActiveObjects().filter(e => e instanceof fabric.Textbox);\r\n      console.log(activeTextArr);\r\n    };\r\n    colorInput.onchange = () => {\r\n      val = colorInput.value;\r\n      console.log(activeTextArr, val);\r\n      activeTextArr.forEach((e) => e.set(\"fill\", `#${val}`));\r\n      canvi.renderAll()\r\n    };\r\n  };\r\n\r\n\r\n  const initCanvas = () => {\r\n    const mainCanvas = new fabric.Canvas(\"mainCanvas\", {\r\n      height: 800,\r\n      width: 800,\r\n      backgroundColor: \"#ffede8\",\r\n      preserveObjectStacking: true,\r\n      controlsAboveOverlay: true\r\n    });\r\n    addImage(mainCanvas, logo);\r\n    addNewText(mainCanvas);\r\n    downloadImage(mainCanvas);\r\n    pickBg(mainCanvas);\r\n    changeTextColor(mainCanvas);\r\n    return mainCanvas;\r\n  };\r\n\r\n\r\n  return (\r\n    <div className=\"App-Canvas\">\r\n      <canvas id=\"mainCanvas\" />\r\n      <img className=\"gui\" src={fg}></img>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Canvas;\r\n","import { HexColorPicker, HexColorInput } from \"react-colorful\";\r\nimport { useState } from \"react\";\r\n\r\nfunction ColorPicker(props) {\r\n  const [color, setColor] = useState(\"#aabbaa\");\r\n\r\n  return (\r\n    <div id=\"AppColorPicker\">\r\n      <HexColorPicker id=\"colorPicker\" color={color} onChange={setColor} />\r\n      <HexColorInput id=\"colorPickerInput\" color={color} onChange={setColor} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ColorPicker;\r\n","import ColorPicker from \"./ColorPicker\";\r\n\r\nfunction getFileDialog() {\r\n  let fileDialog = document.getElementById(\"backgroundpick\");\r\n  fileDialog.click();\r\n}\r\n\r\nfunction Config(props) {\r\n  return (\r\n    <div className=\"App-Config\">\r\n      <div id=\"config-wrapper\">\r\n        <p className=\"Upload-text\">Upload the image</p>\r\n        <input id=\"backgroundpick\" type=\"file\" name=\"\" />\r\n\r\n        <div id=\"picker\" className=\"control-items\">\r\n          <button\r\n            className=\"fa fa-upload btn\"\r\n            id=\"btn-upload\"\r\n            onClick={getFileDialog}\r\n          >\r\n            <span> Post</span>\r\n          </button>\r\n          <button className=\"fa fa-download btn\" id=\"btn-save\">\r\n            <span> Save</span>\r\n          </button>\r\n          <button className=\"fa fa-plus-circle btn\" id=\"btn-addText\">\r\n            <span> Text</span>\r\n          </button>\r\n        </div>\r\n        <ColorPicker colorState={props.colorState}/>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Config;\r\n","import { fabric } from \"fabric\";\r\nfabric.Object.prototype.controls.deleteControl = new fabric.Control({\r\n    x: 0.5,\r\n    y: -0.5,\r\n    offsetY: 16,\r\n    cursorStyle: 'pointer',\r\n    mouseUpHandler: deleteObject,\r\n    render: renderIcon,\r\n    cornerSize: 24\r\n});\r\nfabric.Object.prototype.transparentCorners = false;\r\nfabric.Object.prototype.cornerColor = '#00dba1';\r\nfabric.Object.prototype.borderColor = '#b8b8b8';\r\nfabric.Object.prototype.cornerStyle = 'circle';\r\nfabric.Object.prototype.controls.deleteControl = new fabric.Control({\r\n    x: 0.5,\r\n    y: -0.5,\r\n    offsetY: 16,\r\n    cursorStyle: 'pointer',\r\n    mouseUpHandler: deleteObject,\r\n    render: renderIcon,\r\n    cornerSize: 24\r\n});\r\nfabric.Textbox.prototype.controls.deleteControl = new fabric.Control({\r\n    x: 0.5,\r\n    y: -0.5,\r\n    offsetY: 16,\r\n    cursorStyle: 'pointer',\r\n    mouseUpHandler: deleteObject,\r\n    render: renderIcon,\r\n    cornerSize: 24\r\n});\r\nvar deleteIcon = \"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E%3Csvg version='1.1' id='Ebene_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='595.275px' height='595.275px' viewBox='200 215 230 470' xml:space='preserve'%3E%3Ccircle style='fill:%23F44336;' cx='299.76' cy='439.067' r='218.516'/%3E%3Cg%3E%3Crect x='267.162' y='307.978' transform='matrix(0.7071 -0.7071 0.7071 0.7071 -222.6202 340.6915)' style='fill:white;' width='65.545' height='262.18'/%3E%3Crect x='266.988' y='308.153' transform='matrix(0.7071 0.7071 -0.7071 0.7071 398.3889 -83.3116)' style='fill:white;' width='65.544' height='262.179'/%3E%3C/g%3E%3C/svg%3E\";\r\nvar img = document.createElement('img');\r\nimg.src = deleteIcon;\r\n  \r\nfunction deleteObject(eventData, transform) {\r\n    var target = transform.target;\r\n    var canvas = target.canvas;\r\n        canvas.remove(target);\r\n        canvas.requestRenderAll();\r\n  }\r\n  \r\nfunction renderIcon(ctx, left, top, styleOverride, fabricObject) {\r\n    var size = this.cornerSize;\r\n    ctx.save();\r\n    ctx.translate(left+20, top-36);\r\n    ctx.rotate(fabric.util.degreesToRadians(fabricObject.angle));\r\n    ctx.drawImage(img, -size/2, -size/2, size, size);\r\n    ctx.restore();\r\n}","import './App.css';\r\nimport Header from './Header.js';\r\nimport Canvas from './Canvas.js';\r\nimport Config from './Config.js';\r\nimport './Fabric-customize.js';\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Header />\r\n      <div id=\"App-Body\">\r\n        <Config />\r\n        <Canvas />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}
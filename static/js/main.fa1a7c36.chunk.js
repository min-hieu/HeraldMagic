(this["webpackJsonppost-gen"]=this["webpackJsonppost-gen"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},20:function(e,t){},21:function(e,t){},22:function(e,t){},23:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),o=n(7),i=n.n(o),a=(n(13),n(14),n(1));var l=function(){return Object(a.jsx)("header",{className:"App-header",children:Object(a.jsx)("p",{id:"Header-text",children:"\ud83e\udd16 Post Generator"})})},s=n(3),d=n(2),f=n.p+"static/media/herald-logo.8d473bf3.png",u=n.p+"static/media/herald-post-template.c6de8d3c.png",b=n(8);var p=function(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),n=(t[0],t[1]);Object(r.useEffect)((function(){n(l())}),[]);var c=function(e,t){d.fabric.Image.fromURL(t,(function(t){t.set({originY:"center",originX:"center",scaleX:.5,scaleY:.5,left:400,top:350}),e.add(t),e.renderAll()}))},o=function(e){var t=new d.fabric.Rect({originX:"center",originY:"center",left:400,top:400,width:529,height:529,absolutePositioned:!0,fill:"yellow"});e.clipPath=t},i=function(e,t){var n=new d.fabric.Textbox(t,{originY:"center",originX:"center",left:400,top:530,width:320,fontSize:28,fill:"#fff",fontFamily:"Open Sans",fontWeight:800,textAlign:"center",cornerSize:12,transparentCorners:!1});return e.add(n),n},l=function(){var e,t=new d.fabric.Canvas("mainCanvas",{height:800,width:800,backgroundColor:"#ffede8",preserveObjectStacking:!0,controlsAboveOverlay:!0});return c(t,f),e=t,document.querySelector("#btn-addText").onclick=function(){i(e,"New Text")},function(e){document.querySelector("#btn-save").onclick=function(){var t=e.toDataURL({format:"png",quality:1,multipier:3,width:600,height:600,left:100,top:100});Object(b.saveAs)(t,"magic-image.png")}}(t),function(e){document.querySelector("#backgroundpick").onchange=function(t){var n=t.target.files[0],r=new FileReader;return r.onload=function(t){c(e,t.target.result)},o(e),r.readAsDataURL(n)}}(t),function(e){var t=document.querySelector("#colorPicker"),n=document.querySelector("#colorPickerInput"),r=[],c="#ffffff";t.onmousedown=function(){r=e.getActiveObjects().filter((function(e){return e instanceof d.fabric.Textbox})),console.log(r)},t.onmousemove=function(){c=n.value,r.forEach((function(e){return e.set("fill","#".concat(c))})),e.renderAll()},n.onmousedown=function(){r=e.getActiveObjects().filter((function(e){return e instanceof d.fabric.Textbox})),console.log(r)},n.onchange=function(){c=n.value,console.log(r,c),r.forEach((function(e){return e.set("fill","#".concat(c))})),e.renderAll()}}(t),t};return Object(a.jsxs)("div",{className:"App-Canvas",children:[Object(a.jsx)("canvas",{id:"mainCanvas"}),Object(a.jsx)("img",{className:"gui",src:u})]})},g=n(5);var j=function(e){var t=Object(r.useState)("#aabbaa"),n=Object(s.a)(t,2),c=n[0],o=n[1];return Object(a.jsxs)("div",{id:"AppColorPicker",children:[Object(a.jsx)(g.b,{id:"colorPicker",color:c,onChange:o}),Object(a.jsx)(g.a,{id:"colorPickerInput",color:c,onChange:o})]})};function x(){document.getElementById("backgroundpick").click()}var h=function(e){return Object(a.jsx)("div",{className:"App-Config",children:Object(a.jsxs)("div",{id:"config-wrapper",children:[Object(a.jsx)("p",{className:"Upload-text",children:"Upload the image"}),Object(a.jsx)("input",{id:"backgroundpick",type:"file",name:""}),Object(a.jsxs)("div",{id:"picker",className:"control-items",children:[Object(a.jsx)("button",{className:"fa fa-upload btn",id:"btn-upload",onClick:x,children:Object(a.jsx)("span",{children:" Post"})}),Object(a.jsx)("button",{className:"fa fa-download btn",id:"btn-save",children:Object(a.jsx)("span",{children:" Save"})}),Object(a.jsx)("button",{className:"fa fa-plus-circle btn",id:"btn-addText",children:Object(a.jsx)("span",{children:" Text"})})]}),Object(a.jsx)(j,{colorState:e.colorState})]})})};d.fabric.Object.prototype.controls.deleteControl=new d.fabric.Control({x:.5,y:-.5,offsetY:16,cursorStyle:"pointer",mouseUpHandler:v,render:O,cornerSize:24}),d.fabric.Object.prototype.transparentCorners=!1,d.fabric.Object.prototype.cornerColor="#00dba1",d.fabric.Object.prototype.borderColor="#b8b8b8",d.fabric.Object.prototype.cornerStyle="circle",d.fabric.Object.prototype.controls.deleteControl=new d.fabric.Control({x:.5,y:-.5,offsetY:16,cursorStyle:"pointer",mouseUpHandler:v,render:O,cornerSize:24}),d.fabric.Textbox.prototype.controls.deleteControl=new d.fabric.Control({x:.5,y:-.5,offsetY:16,cursorStyle:"pointer",mouseUpHandler:v,render:O,cornerSize:24});var m=document.createElement("img");function v(e,t){var n=t.target,r=n.canvas;r.remove(n),r.requestRenderAll()}function O(e,t,n,r,c){var o=this.cornerSize;e.save(),e.translate(t+20,n-36),e.rotate(d.fabric.util.degreesToRadians(c.angle)),e.drawImage(m,-o/2,-o/2,o,o),e.restore()}m.src="data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E%3Csvg version='1.1' id='Ebene_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='595.275px' height='595.275px' viewBox='200 215 230 470' xml:space='preserve'%3E%3Ccircle style='fill:%23F44336;' cx='299.76' cy='439.067' r='218.516'/%3E%3Cg%3E%3Crect x='267.162' y='307.978' transform='matrix(0.7071 -0.7071 0.7071 0.7071 -222.6202 340.6915)' style='fill:white;' width='65.545' height='262.18'/%3E%3Crect x='266.988' y='308.153' transform='matrix(0.7071 0.7071 -0.7071 0.7071 398.3889 -83.3116)' style='fill:white;' width='65.544' height='262.179'/%3E%3C/g%3E%3C/svg%3E";var w=function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(l,{}),Object(a.jsxs)("div",{id:"App-Body",children:[Object(a.jsx)(h,{}),Object(a.jsx)(p,{})]})]})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,24)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),o(e),i(e)}))};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(w,{})}),document.getElementById("root")),C()}},[[23,1,2]]]);
//# sourceMappingURL=main.fa1a7c36.chunk.js.map